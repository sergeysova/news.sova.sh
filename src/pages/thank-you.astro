---
import Layout from "../layouts/Layout.astro";

import ThankYouIcon from "../assets/icons/thank you.svg";
---

<Layout
  title="–°–æ–≤–∞ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏"
  description="–°–ø–∞—Å–∏–±–æ, –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É!"
  slug="/thank-you"
>
  <main
    class="w-full mx-auto px-6 py-10 mb-10 flex flex-col gap-10 md:gap-14 max-w-[65ch] md:max-w-[80ch] aspect-[758/132]"
  >
    <a href="/">
      <img src={ThankYouIcon} class="pr-10" />
    </a>
    <p>
      –Ø –∑–∞–Ω–∏–º–∞—é—Å—å web-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π —É–∂–µ –±–æ–ª–µ–µ 10 –ª–µ—Ç –∏ –≤—Å—ë —ç—Ç–æ –≤—Ä–µ–º—è —è —Å–≤–æ–±–æ–¥–Ω–æ
      –¥–µ–ª—é—Å—å —Å–≤–æ–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–∞–º –ø–æ–ª—å–∑—É—é—Å—å.
    </p>
    <p>
      –ó–¥–µ—Å—å –Ω–µ—Ç —Ä–µ–∫–ª–∞–º—ã –∏–ª–∏ –ø—Ä–æ–ø–ª–∞—á–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è. –í—Å—ë, —á—Ç–æ —è –∑–¥–µ—Å—å
      –≤—ã–∫–ª–∞–¥—ã–≤–∞—é —è —á–∏—Ç–∞—é –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é: —á—Ç–æ-—Ç–æ –±–æ–ª—å—à–µ, —á—Ç–æ-—Ç–æ –º–µ–Ω—å—à–µ.
    </p>
    <p>
      –ú–Ω–µ –≤–∞–∂–µ–Ω –∫–∞–∂–¥—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫, –∫–∞–∂–¥–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è, –≤–µ–¥—å —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –º–Ω–µ
      –¥–µ–ª–∏—Ç—å—Å—è –∑–Ω–∞–Ω–∏—è–º–∏, –∞ —Ç–∞–∫–∂–µ –æ–±—Ä–µ—Ç–∞—Ç—å –Ω–æ–≤—ã–µ. –ê –µ—Å–ª–∏ —è –ø–æ–ª—É—á–∞—é –Ω–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è,
      –∑–Ω–∞—á–∏—Ç –∏ –≤—ã —Ç–æ–∂–µ!
    </p>
    <div class="flex justify-center items-center">
      <img
        src="/banner.jpg"
        alt="Photo"
        class="rounded-full block w-24 md:w-32 aspect-square"
      />
      <p class="p text-2xl md:text-4xl text-slate-900 px-8">
        –°–ø–∞—Å–∏–±–æ, –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É! üíö
      </p>
    </div>
    <div class="flex justify-center content-center w-full">
      <a
        id="backlink"
        href="/"
        class="cursor-pointer text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blur-300 font-medium rounded-lg text-sm px-5 py-3 text-center"
        >–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a
      >
    </div>
  </main>
</Layout>

<style>
  main > p {
    @apply text-xl md:text-2xl;
  }

  p :global(a) {
    @apply text-sky-600 underline;
  }

  p :global(a):hover {
    @apply text-sky-600 no-underline;
  }
</style>

<script>
  loadIssue().catch(console.info);

  async function loadIssue() {
    const backlink = document.getElementById("backlink")! as HTMLAnchorElement;
    const savedValue = localStorage.getItem("previousReadIssue");
    if (!savedValue) return;

    const previousReadIssueNumber = parseInt(savedValue, 10);
    const { issues } = await fetch("/issues.json").then((resp) => resp.json());
    const previousIssue = issues.find(
      (issue: any) => issue.number == previousReadIssueNumber
    );
    if (!previousIssue) return;

    backlink.innerText = `–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —á–∏—Ç–∞—Ç—å –≤—ã–ø—É—Å–∫ ‚Ññ${previousIssue.number}`;
    backlink.href = `/issues/${previousIssue.slug}`;
    // localStorage.removeItem("previousReadIssue");
  }
</script>
